(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2267:function(e,t,r){Promise.resolve().then(r.bind(r,2931))},2931:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(7437),a=r(2265),n=r(4025);function o(){let{setIsAuthenticated:e,setProfile:t,setFlowState:r,AppFlowState:o}=(0,n.m)(),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),u=async()=>{l(!0),d(null);try{console.log("[AUTH FLOW] Solicitando ventana de autenticaci\xf3n a Electron...");let t=await window.electronAPI.signInGoogle();t.success?(console.log("[AUTH FLOW] Token recibido. Redirigiendo..."),window.electronAPI.setSessionState({isAuthenticated:!0,userToken:t.userToken}),e(!0),t.isNewUser||!t.profileData?r(o.ONBOARDING):r(o.DASHBOARD)):(d("Fallo de autenticaci\xf3n: ".concat(t.message)),console.error("[AUTH FLOW] Error en el flujo de Electron:",t.message))}catch(e){d("Error de comunicaci\xf3n durante la autenticaci\xf3n."),console.error("[AUTH FLOW] Error IPC/Catch:",e.message)}finally{l(!1)}};return(0,s.jsx)("div",{className:"flex flex-col items-center justify-center h-screen w-full p-8",style:{backgroundColor:"transparent",WebkitAppRegion:"drag"},children:(0,s.jsx)("div",{className:"p-10 bg-gray-900 bg-opacity-90 rounded-2xl shadow-2xl w-full max-w-md border-2 border-[#C5B58E] relative transition-all duration-500",style:{backdropFilter:"blur(10px)",boxShadow:"0 0 50px rgba(197, 181, 142, 0.4), 0 0 20px rgba(0, 0, 0, 0.7)"},children:(0,s.jsxs)("div",{style:{WebkitAppRegion:"no-drag"},children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-5xl font-bold text-[#C5B58E] mb-0.5 text-center tracking-widest uppercase font-sans",children:"META MIND"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 text-center tracking-widest uppercase",children:"Acceso de Coach Estrat\xe9gico"})]}),(0,s.jsx)("button",{onClick:u,disabled:i,className:"w-full py-4 px-4 rounded-lg text-xl font-extrabold transition duration-300 transform hover:scale-[1.02] ".concat(i?"bg-[#1E2A38] text-gray-500 cursor-not-allowed":"bg-[#C5B58E] text-[#091018] hover:bg-[#A9976D] shadow-lg shadow-[#C5B58E]/40"," flex items-center justify-center space-x-3 uppercase"),children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 text-[#091018]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{className:"ml-3",children:"Cargando M\xf3dulos Estrat\xe9gicos..."})]}):(0,s.jsx)(s.Fragment,{children:"Iniciar Sesi\xf3n con Google"})}),c&&(0,s.jsx)("p",{className:"text-red-400 text-sm mt-4 text-center p-2 bg-red-900 bg-opacity-30 rounded",children:c}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-6 text-center",children:"Utilizamos Google para asegurar su identidad."})]})})})}let i=["Aries","Tauro","G\xe9minis","C\xe1ncer","Leo","Virgo","Libra","Escorpio","Sagitario","Capricornio","Acuario","Piscis"],l=["Top","Jungle","Mid","Bot","Support"],c=["NA1","EUW1","KR","LA1","LA2"];function d(){let{goToDashboard:e}=(0,n.m)(),[t,r]=(0,a.useState)({summonerName:"",tagline:"",zodiacSign:"",region:"LA2",positions:[]}),[o,d]=(0,a.useState)(!1),[u,x]=(0,a.useState)(null),g=e=>{let{name:t,value:s}=e.target;r(e=>({...e,[t]:s}))},m=e=>{r(t=>{let r=t.positions.includes(e)?t.positions.filter(t=>t!==e):[...t.positions,e];return{...t,positions:r.slice(0,2)}})},p=async r=>{if(r.preventDefault(),x(null),0===t.positions.length){x("Selecciona al menos una posici\xf3n.");return}d(!0);try{let r=await window.electronAPI.setSummonerProfile(t);r.success?e():x("Error en el servidor: ".concat(r.message))}catch(e){x("Fallo de comunicaci\xf3n al configurar el perfil.")}finally{d(!1)}};return(0,s.jsx)("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 bg-[#091018] bg-cover bg-center",style:{backgroundImage:"url('/img/hero-bg.webp')"},children:(0,s.jsxs)("div",{className:"p-8 bg-black bg-opacity-80 rounded-xl shadow-2xl w-full max-w-lg border-2 border-[#1E2A38]",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-[#C5B58E] mb-2 text-center",children:"Configuraci\xf3n Estrat\xe9gica"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mb-6 text-center",children:"Completa los datos para iniciar tu an\xe1lisis Hyper-Completo."}),u&&(0,s.jsx)("p",{className:"text-red-400 text-sm mb-4 text-center",children:u}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)("input",{name:"summonerName",value:t.summonerName,onChange:g,placeholder:"Nombre de Invocador",required:!0,className:"bg-[#1E2A38] text-white p-3 rounded-lg border border-[#3A475C] focus:ring-[#C5B58E] focus:border-[#C5B58E]"}),(0,s.jsx)("input",{name:"tagline",value:t.tagline,onChange:g,placeholder:"Tagline (ej: #LA1)",required:!0,className:"bg-[#1E2A38] text-white p-3 rounded-lg border border-[#3A475C] focus:ring-[#C5B58E] focus:border-[#C5B58E]"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("select",{name:"region",value:t.region,onChange:g,required:!0,className:"bg-[#1E2A38] text-white p-3 rounded-lg border border-[#3A475C] focus:ring-[#C5B58E] focus:border-[#C5B58E] appearance-none",children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Selecciona Regi\xf3n"}),c.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsxs)("select",{name:"zodiacSign",value:t.zodiacSign,onChange:g,required:!0,className:"bg-[#1E2A38] text-white p-3 rounded-lg border border-[#3A475C] focus:ring-[#C5B58E] focus:border-[#C5B58E] appearance-none",children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Selecciona Signo Zodiacal"}),i.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"pt-2",children:[(0,s.jsx)("label",{className:"block text-gray-300 mb-2",children:"Posiciones Preferidas (M\xe1x. 2):"}),(0,s.jsx)("div",{className:"flex gap-3 justify-center",children:l.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>m(e),className:"py-2 px-4 rounded-full text-sm font-semibold transition duration-200 ".concat(t.positions.includes(e)?"bg-[#C5B58E] text-[#091018]":"bg-[#1E2A38] text-gray-400 hover:bg-[#3A475C]"),children:e},e))})]}),(0,s.jsx)("button",{type:"submit",disabled:o,className:"w-full py-3 px-4 rounded-lg text-lg font-bold mt-6 transition duration-300 ".concat(o?"bg-[#1E2A38] text-gray-500 cursor-not-allowed":"bg-[#C5B58E] text-[#091018] hover:bg-[#A9976D]"),children:o?"Procesando An\xe1lisis Inicial...":"Finalizar Configuraci\xf3n e Ir al Dashboard"})]})]})})}var u=r(6890);function x(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t(!0)},[]),(0,s.jsx)("div",{className:"flex items-center justify-center h-screen w-screen transition-opacity duration-1000",style:{backgroundColor:"transparent",WebkitAppRegion:"drag"},children:(0,s.jsxs)("div",{className:"flex flex-col items-center p-8 rounded-xl bg-gray-900 bg-opacity-95 transform transition-all duration-1000 ".concat(e?"opacity-100 scale-100":"opacity-0 scale-95"),style:{boxShadow:"0 0 50px rgba(197, 181, 142, 0.4), 0 0 20px rgba(0, 0, 0, 0.7)",border:"1px solid #C5B58E"},children:[(0,s.jsx)("img",{src:"/assets/icon2.png",alt:"Logo Meta Mind",className:"w-24 h-24 mb-4 animate-pulse",style:{filter:"drop-shadow(0 0 15px #C5B58E)",animationDuration:"3s"}}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-white tracking-widest uppercase",children:"Meta Mind"}),(0,s.jsx)("p",{className:"text-md text-[#C5B58E] mt-2",children:"Iniciando M\xf3dulos de IA Estrat\xe9gica..."})]})})}function g(){let{flowState:e,AppFlowState:t}=(0,n.m)();switch(e){case t.LOADING:case t.SPLASH:return(0,s.jsx)(x,{});case t.LOGIN:return(0,s.jsx)(o,{});case t.ONBOARDING:return(0,s.jsx)(d,{});case t.DASHBOARD:return(0,s.jsx)(u.default,{});default:return(0,s.jsx)(x,{})}}}},function(e){e.O(0,[699,262,971,23,744],function(){return e(e.s=2267)}),_N_E=e.O()}]);